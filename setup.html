<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bubli - Choose Your Avatar</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            bubli: {
              primary: '#7B5BE4',
              light: '#C9B7FF',
              dark: '#5A3DC7',
              cream: '#FAF8FF',
              accent: '#E8DFFF',
              glow: '#9D8AFF'
            }
          },
          fontFamily: {
            display: ['Nunito', 'sans-serif'],
            body: ['DM Sans', 'sans-serif']
          }
        }
      }
    }
  </script>
  <style>
    :root {
      --bg: #FAF8FF;
      --fg: #2D2847;
      --muted: #6B6488;
      --accent: #7B5BE4;
      --accent-light: #C9B7FF;
      --card: #FFFFFF;
      --border: #E8E4F0;
    }
    * { box-sizing: border-box; }
    body {
      font-family: 'DM Sans', sans-serif;
      background: var(--bg);
      color: var(--fg);
      min-height: 100vh;
      overflow-x: hidden;
    }
    .font-display { font-family: 'Nunito', sans-serif; }

    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-25px) rotate(5deg); }
    }
    .animate-float { animation: float 6s ease-in-out infinite; }
    
    .blob {
      border-radius: 50%;
      filter: blur(60px);
      opacity: 0.5;
    }

    .btn-primary {
      background: linear-gradient(135deg, #7B5BE4 0%, #9D8AFF 100%);
      transition: all 0.3s ease;
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(123, 91, 228, 0.3);
    }

    .auth-card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      box-shadow: 0 25px 80px rgba(123, 91, 228, 0.15);
    }
    
    .gradient-text {
      background: linear-gradient(135deg, #7B5BE4 0%, #5A3DC7 50%, #9D8AFF 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* Avatar preview */
    #avatar-preview {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid #C9B7FF;
      margin: 0 auto 1rem;
    }

    /* Avatar options grid */
    .avatar-option {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      cursor: pointer;
      border: 3px solid transparent;
      transition: all 0.2s;
    }
    .avatar-option:hover {
      transform: scale(1.1);
    }
    .avatar-option.selected {
      border-color: #7B5BE4;
      box-shadow: 0 0 0 3px rgba(123, 91, 228, 0.3);
    }
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <!-- Background -->
  <div class="fixed inset-0 pointer-events-none overflow-hidden z-0">
    <div class="blob absolute w-96 h-96 bg-bubli-light top-0 -left-48 animate-float" style="animation-duration: 12s;"></div>
    <div class="blob absolute w-80 h-80 bg-bubli-accent bottom-0 right-0 animate-float" style="animation-duration: 15s;"></div>
  </div>

  <main class="flex-1 flex items-center justify-center px-4 py-12 relative z-10">
    <div class="w-full max-w-md">
      <!-- Header -->
      <div class="text-center mb-8">
        <a href="index.html" class="inline-flex items-center gap-2 mb-6 group">
          <div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-bubli-primary to-bubli-glow flex items-center justify-center shadow-xl">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none">
              <circle cx="12" cy="12" r="8" fill="white"/>
              <circle cx="9" cy="10" r="1.5" fill="#7B5BE4"/>
              <circle cx="15" cy="10" r="1.5" fill="#7B5BE4"/>
              <path d="M9 14c1 1.5 5 1.5 6 0" stroke="#7B5BE4" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
          </div>
          <span class="font-display font-900 text-3xl gradient-text">Bubli</span>
        </a>
        <h1 class="font-display font-800 text-2xl sm:text-3xl text-bubli-dark mb-2">Choose Your Avatar</h1>
        <p class="text-bubli-dark/60">Pick one that matches your vibe</p>
      </div>

      <!-- Card -->
      <div class="auth-card rounded-3xl p-8 border border-bubli-accent/30">
        <form id="setup-form" class="space-y-6">
          
          <!-- Username display (non-editable) -->
          <div class="text-center">
            <div class="inline-flex items-center gap-2 bg-bubli-accent/30 px-4 py-2 rounded-full">
              <span class="text-bubli-dark/60">@</span>
              <span id="display-username" class="font-display font-600 text-lg">loading...</span>
            </div>
          </div>

          <!-- Avatar preview (selected) -->
          <div class="flex justify-center">
            <img id="avatar-preview" src="https://api.dicebear.com/7.x/avataaars/svg?seed=default" alt="Selected avatar">
          </div>

          <!-- Avatar options grid (10 preset avatars) -->
          <div class="grid grid-cols-5 gap-3 justify-items-center">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Alex" class="avatar-option" data-avatar="https://api.dicebear.com/7.x/avataaars/svg?seed=Alex" onclick="selectAvatar(this)">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Jamie" class="avatar-option" data-avatar="https://api.dicebear.com/7.x/avataaars/svg?seed=Jamie" onclick="selectAvatar(this)">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Jordan" class="avatar-option" data-avatar="https://api.dicebear.com/7.x/avataaars/svg?seed=Jordan" onclick="selectAvatar(this)">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Casey" class="avatar-option" data-avatar="https://api.dicebear.com/7.x/avataaars/svg?seed=Casey" onclick="selectAvatar(this)">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Riley" class="avatar-option" data-avatar="https://api.dicebear.com/7.x/avataaars/svg?seed=Riley" onclick="selectAvatar(this)">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Taylor" class="avatar-option" data-avatar="https://api.dicebear.com/7.x/avataaars/svg?seed=Taylor" onclick="selectAvatar(this)">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Quinn" class="avatar-option" data-avatar="https://api.dicebear.com/7.x/avataaars/svg?seed=Quinn" onclick="selectAvatar(this)">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Blake" class="avatar-option" data-avatar="https://api.dicebear.com/7.x/avataaars/svg?seed=Blake" onclick="selectAvatar(this)">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Avery" class="avatar-option" data-avatar="https://api.dicebear.com/7.x/avataaars/svg?seed=Avery" onclick="selectAvatar(this)">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Skyler" class="avatar-option" data-avatar="https://api.dicebear.com/7.x/avataaars/svg?seed=Skyler" onclick="selectAvatar(this)">
          </div>

          <!-- Submit -->
          <button type="submit" class="btn-primary w-full py-4 rounded-2xl font-display font-800 text-lg text-white shadow-lg mt-4">
            Start Bubli-ing
          </button>
        </form>
      </div>
    </div>
  </main>

  <script type="module" src="./js/setup.js"></script>
</body>
</html>